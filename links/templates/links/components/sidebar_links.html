{% load crispy_forms_tags %}

<nav id="sidebar">
    <div class="sidebarToggle d-inline d-md-none">
        <i class="fa fa-bars ml-2 mt-1 pl-4 pt-3"></i>
    </div>
    <div>
        <h3 class="text-center">LOGO HERE</h3>
    </div>
    <hr>
    <div>
        <h3 class="text-center">Add BM Button</h3>
    </div>
    <hr>
    <div>
        <!-- display advert -->
        {% include 'advert.html' with advert_path="img/ads/square.png" %}
    </div>
    <hr>
    <ul class="list-unstyled mx-4">
        <!-- list all user pages -->
        <h5>Pages</h5>
        {% for name in all_page_names %}
        <!-- <li {% if name == page %} class="active" {% endif %}> -->
        <li class="{% if name == page %}active{% endif %}">
            <div class="clearfix">
                <a class="nav-link float-left" href="{% url 'links' page=name %}">{{name|title}}
                    {% if name == page %}<a class="float-right my-2 mr-3"><i class="fa fa-cog edit-page-btn"
                            aria-hidden="true"></i></a>{% endif %}
                </a>
            </div>

            <!-- edit page form -->
            <form method="POST" class="edit-page-form p-2" {% if edit_page_form.errors %} style="display: block;"
                {% endif %}>
                {% csrf_token %}
                {% for i in edit_page_form %}
                <p>{{ i.label_tag }} <br />
                    {{ i }}</p>
                <small>{{ i.errors }}</small>
                {% endfor %}
                <input type="submit" name="edit-page-form" class="btn btn-info btn-sm mt-n3">
            </form>
        </li>
        {% endfor %}

        <!-- add page form -->
        <li class="mx-3 my-2">
            <button id="add-page-btn" class="btn btn-sm btn-info" role="button">ADD NEW PAGE</button>
            <form method="POST" id="add-page-form" class="p-2" {% if add_new_page_form.errors %} style="display: block;"
                {% endif %}>
                {% csrf_token %}
                {% for i in add_new_page_form %}
                <p>{{ i.label_tag }}
                    {{ i }}</p>
                <small>{{ i.errors }}</small>
                {% endfor %}
                <input type="submit" name="add-page-form" class="btn btn-info btn-sm mt-3">
            </form>
        </li>
    </ul>

    <!-- display premium badge -->
    {% if is_premium %}
    <div class=" my-5 text-center">
        <div class="d-flex justify-content-center">
            <h1><span class="badge badge-dark">PREMIUM</span></h1>
        </div>
    </div>
    {% endif %}
</nav>